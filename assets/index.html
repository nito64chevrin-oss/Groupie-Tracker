<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/statics/style.css">
    <link rel="shortcut icon" type="image/png" href="/statics/image/logo_min.png"/>
    <title>Groupi Music</title>
</head>
    <body>
        <header>
        <div class="logo-wrap" data-title="Groupi Music">
            <a href="/"><img class="logo" src="/statics/image/logo-v2.png" alt="logo site"></a>
            <h1 class="site-title">Groupi Music</h1>
        </div>
        
        <form class="search-container" method="GET" action="/">
            <input type="text" name="search" id="searchBox" class="search-box" placeholder="Rechercher un artiste ou un membre..." autocomplete="off">
            <button type="submit" class="search-button">Rechercher</button>
        </form>
        </header>
        <main>
            <div class="features-section" id="features">
                <div class="img_artiste">
                    {{range .}}
                    <a href="/groupe/{{.Artist.ID}}" class="artist-card">
                        <img src="{{.Artist.Image}}" alt="Image de {{.Artist.Nom}}" class="image_grp">
                        <p class="artist-name">{{.Artist.Nom}}</p>
                    </a>
                    {{end}}
                </div>
            </div>
        </main>

        <footer>
            <p>los locos</p>
        </footer>
        
        <script>
            // Intersection Observer pour l'effet de fondu
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const img = entry.target.querySelector('.image_grp');
                    if (entry.isIntersecting) {
                        img.classList.add('visible');
                        img.classList.remove('hidden');
                    } else {
                        img.classList.add('hidden');
                        img.classList.remove('visible');
                    }
                });
            }, { threshold: 0.3, rootMargin: '0px' });

            const artistCards = document.querySelectorAll('.artist-card');
            artistCards.forEach(card => {
                observer.observe(card);
            });
        </script>
    </body>
</html>